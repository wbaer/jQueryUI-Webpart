{"version":3,"sources":["components/Button/BaseButton.tsx"],"names":[],"mappings":"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","file":"components/Button/BaseButton.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  css,\r\n  assign,\r\n  getId,\r\n  getNativeProps,\r\n  buttonProperties,\r\n  anchorProperties\r\n} from '../../Utilities';\r\nimport { IButtonProps, IButton } from './Button.Props';\r\n\r\nexport class BaseButton extends BaseComponent<IButtonProps, {}> implements IButton {\r\n\r\n  /**\r\n   * _baseClassName can be overridden by subclasses to provide a unique class prefix to the class name used for\r\n   * sub parts of the render template.\r\n   */\r\n  protected _baseClassName = 'ms-Button';\r\n\r\n  /**\r\n   * _variantClassName can be overridden by subclasses to add an extra default class name to the root element.\r\n   */\r\n  protected _variantClassName = '';\r\n\r\n  private _buttonElement: HTMLButtonElement;\r\n  private _labelId: string;\r\n  private _descriptionId: string;\r\n  private _ariaDescriptionId: string;\r\n\r\n  constructor(props: IButtonProps, rootClassName: string, deprecationMap: any) {\r\n    super(props, { 'rootProps': null });\r\n    this._labelId = getId();\r\n    this._descriptionId = getId();\r\n    this._ariaDescriptionId = getId();\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { className, description, ariaLabel, ariaDescription, href, disabled } = this.props;\r\n    const { _ariaDescriptionId, _labelId, _descriptionId } = this;\r\n    const renderAsAnchor: boolean = !!href;\r\n    const tag = renderAsAnchor ? 'a' : 'button';\r\n    const nativeProps = getNativeProps(\r\n      assign({}, this.props.rootProps, this.props),\r\n      renderAsAnchor ? anchorProperties : buttonProperties,\r\n      [\r\n        'disabled' // Let disabled buttons be focused and styled as disabled.\r\n      ]);\r\n\r\n    // Check for ariaDescription, description or aria-describedby in the native props to determine source of aria-describedby\r\n    // otherwise default to null.\r\n    let ariaDescribedBy;\r\n\r\n    if (ariaDescription) {\r\n      ariaDescribedBy = _ariaDescriptionId;\r\n    } else if (description) {\r\n      ariaDescribedBy = _descriptionId;\r\n    } else if (nativeProps['aria-describedby']) {\r\n      ariaDescribedBy = nativeProps['aria-describedby'];\r\n    } else {\r\n      ariaDescribedBy = null;\r\n    }\r\n\r\n    let buttonProps = assign(\r\n      nativeProps,\r\n      {\r\n        className: css(\r\n          className,\r\n          this._baseClassName,\r\n          this._variantClassName,\r\n          { 'disabled': disabled }\r\n        ),\r\n        ref: this._resolveRef('_buttonElement'),\r\n        'aria-label': ariaLabel,\r\n        'aria-labelledby': ariaLabel ? null : _labelId,\r\n        'aria-describedby': ariaDescribedBy\r\n      }\r\n    );\r\n\r\n    return this.onRenderContent(tag, buttonProps);\r\n  }\r\n\r\n  public focus(): void {\r\n    if (this._buttonElement) {\r\n      this._buttonElement.focus();\r\n    }\r\n  }\r\n\r\n  protected onRenderContent(tag, buttonProps): JSX.Element {\r\n    return React.createElement(\r\n      tag,\r\n      buttonProps,\r\n      this.onRenderIcon(),\r\n      this.onRenderLabel(),\r\n      this.onRenderDescription(),\r\n      this.onRenderAriaDescription(),\r\n      this.onRenderChildren()\r\n    );\r\n  }\r\n\r\n  protected onRenderIcon() {\r\n    let { icon } = this.props;\r\n\r\n    return icon ? (\r\n      <span className={ `${this._baseClassName}-icon` }>\r\n        <i className={ `ms-Icon ms-Icon--${icon}` } />\r\n      </span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  protected onRenderLabel() {\r\n    let { children, label } = this.props;\r\n\r\n    // For backwards compat, we should continue to take in the label content from children.\r\n    if (label === undefined && typeof (children) === 'string') {\r\n      label = children;\r\n    }\r\n\r\n    return label ? (\r\n      <span className={ `${this._baseClassName}-label` } id={ this._labelId } >\r\n        { label }\r\n      </span>\r\n    ) : (null);\r\n  }\r\n\r\n  protected onRenderChildren() {\r\n    let { children, label } = this.props;\r\n\r\n    // There is no label and the label will be rendered, we don't want the label to appear twice.\r\n    // If there is a label and the children are of type string it was likely intentional and both\r\n    // should render.\r\n    if (label === undefined && typeof (children) === 'string') {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n\r\n  protected onRenderDescription() {\r\n    let { description } = this.props;\r\n\r\n    // ms-Button-description is only shown when the button type is compound.\r\n    // In other cases it will not be displayed.\r\n    return description ? (\r\n      <span className={ `${this._baseClassName}-description` } id={ this._descriptionId }>{ description }</span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n\r\n  protected onRenderAriaDescription() {\r\n    let { ariaDescription } = this.props;\r\n\r\n    // If ariaDescription is given, descriptionId will be assigned to ariaDescriptionSpan,\r\n    // otherwise it will be assigned to descriptionSpan.\r\n    return ariaDescription ? (\r\n      <span className='ms-u-screenReaderOnly' id={ this._ariaDescriptionId }>{ ariaDescription }</span>\r\n    ) : (\r\n        null\r\n      );\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}