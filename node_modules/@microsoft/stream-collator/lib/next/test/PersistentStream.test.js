/// <reference types="mocha" />
"use strict";
var chai_1 = require('chai');
var PersistentStream_1 = require('../PersistentStream');
describe('PersistentStream', function () {
    it('passes through unmodified values', function (done) {
        var stream = new PersistentStream_1.default();
        var text = 'Hello, world!';
        stream.on('data', function (data) {
            chai_1.assert.equal(data.toString(), text);
            done();
        });
        stream.write(text);
    });
    it('stores everything in the buffer', function (done) {
        var stream = new PersistentStream_1.default();
        stream.write('1');
        stream.write('2');
        chai_1.assert.equal(stream.readAll(), '12');
        stream.end();
        chai_1.assert.equal(stream.readAll(), '12');
        done();
    });
});

//# sourceMappingURL=PersistentStream.test.js.map
