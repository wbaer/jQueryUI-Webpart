{"version":3,"sources":["components/Rating/Rating.tsx"],"names":[],"mappings":"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","file":"components/Rating/Rating.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  BaseComponent,\r\n  css,\r\n  getId\r\n} from '../../Utilities';\r\nimport { IRatingProps, RatingSize } from './Rating.Props';\r\nimport './Rating.scss';\r\n\r\nexport interface IRatingState {\r\n  rating: number;\r\n  focusedRating: number;\r\n}\r\n\r\nexport class Rating extends BaseComponent<IRatingProps, IRatingState> {\r\n  public static defaultProps: IRatingProps = {\r\n    min: 1,\r\n    max: 5\r\n  };\r\n\r\n  private _id: string;\r\n  private _labelId: string;\r\n\r\n  constructor(props: IRatingProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      rating: this._getInitialValue(props),\r\n      focusedRating: null\r\n    };\r\n\r\n    this._id = getId('Rating');\r\n    this._labelId = getId('RatingLabel');\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: IRatingProps) {\r\n    if (typeof nextProps.rating !== 'undefined' && nextProps.rating !== this.state.rating) {\r\n      this.setState({\r\n        rating: this._getClampedRating(nextProps.rating)\r\n      } as IRatingState);\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    let stars: JSX.Element[] = [];\r\n    for (let i = this.props.min; i <= this.props.max; ++i) {\r\n      stars.push(this._renderStar(i));\r\n    }\r\n\r\n    return <div className={ css('ms-Rating', this.props.className, {\r\n      'ms-Rating--large': this.props.size === RatingSize.Large\r\n    }) } role='application'>\r\n      <div className={ 'ms-Rating-container' } role='radiogroup' aria-labelledby={ this.props.ariaLabelId }>\r\n        { stars }\r\n      </div>\r\n    </div>;\r\n  }\r\n\r\n  private _renderStar(rating: number): JSX.Element {\r\n    const inputId = `${this._id}-${rating}`;\r\n\r\n    return <div className={ css('ms-Rating-star', {\r\n      'is-selected': rating <= this.state.rating,\r\n      'is-inFocus': rating === this.state.focusedRating,\r\n      'is-disabled': this.props.disabled\r\n    }) } key={ rating }>\r\n      <input\r\n        className='ms-Rating-input'\r\n        type='radio'\r\n        name={ this._id }\r\n        id={ inputId }\r\n        value={ rating }\r\n        aria-labelledby={ `${this._labelId}-${rating}` }\r\n        disabled={ this.props.disabled }\r\n        checked={ rating === this.state.rating }\r\n        onChange={ this._onChange.bind(this, rating) }\r\n        onFocus={ this._onFocus.bind(this, rating) }\r\n        onBlur={ this._onBlur.bind(this, rating) }\r\n        />\r\n      <label className='ms-Rating-label' htmlFor={ inputId }>\r\n        { this._getLabel(rating) }\r\n        { this._getIcon() }\r\n      </label>\r\n    </div>;\r\n  }\r\n\r\n  private _onFocus(value: number, ev: React.FocusEvent<HTMLElement>): void {\r\n    this.setState({\r\n      focusedRating: value\r\n    } as IRatingState);\r\n  }\r\n\r\n  private _onBlur(option: number, ev: React.FocusEvent<HTMLElement>): void {\r\n    this.setState({\r\n      focusedRating: null\r\n    } as IRatingState);\r\n  }\r\n\r\n  private _onChange(rating: number, evt: React.FormEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      rating: rating\r\n    } as IRatingState);\r\n\r\n    const { onChanged } = this.props;\r\n    if (onChanged) {\r\n      onChanged(rating);\r\n    }\r\n  }\r\n\r\n  private _getLabel(rating: number): JSX.Element {\r\n    const text = this.props.ariaLabelIcon || 'Star';\r\n\r\n    return <span id={ `${this._labelId}-${rating}` } className='ms-Rating-labelText'>{ `${rating} ${text}` }</span>;\r\n  }\r\n\r\n  private _getIcon(): JSX.Element {\r\n    return <i className={ css('ms-Icon', this.props.icon || 'ms-Icon--FavoriteStarFill') } />;\r\n  }\r\n\r\n  private _getInitialValue(props: IRatingProps) {\r\n    if (typeof props.rating === 'undefined') {\r\n      return props.min;\r\n    }\r\n\r\n    if (props.rating === null) {\r\n      return null;\r\n    }\r\n\r\n    return this._getClampedRating(props.rating);\r\n  }\r\n\r\n  private _getClampedRating(rating: number): number {\r\n    rating = Math.floor(rating);\r\n\r\n    return Math.min(Math.max(rating, this.props.min), this.props.max);\r\n  }\r\n}"],"sourceRoot":"..\\..\\..\\src"}