{"version":3,"sources":["TrustCertTask.ts"],"names":[],"mappings":";;;;;;AAAA,8DAAsD;AAItD;;;;;;GAMG;AACH;IAA2C,iCAAY;IAAvD;QAAA,qEAaC;QAZQ,UAAI,GAAW,YAAY,CAAC;;IAYrC,CAAC;IAVQ,mCAAW,GAAlB,UAAmB,IAAe,EAAE,gBAA0C;QACpE,IAAA,+DAAiB,CAA+B,CAAC,sBAAsB;QAC/E,IAAM,WAAW,GAAiB,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAEhE,EAAE,CAAC,CAAC,WAAW,CAAC,cAAc,IAAI,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YACrD,gBAAgB,EAAE,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,gBAAgB,CAAC,yCAAyC,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IACH,oBAAC;AAAD,CAbA,AAaC,CAb0C,0BAAQ,GAalD","file":"TrustCertTask.js","sourcesContent":["import { GulpTask } from '@microsoft/gulp-core-build';\r\nimport * as gulp from 'gulp';\r\nimport { ICertificate } from './certificates';\r\n\r\n/**\r\n * This task generates and trusts a development certificate. The certificate is self-signed\r\n *  and stored, along with its private key, in the user's home directory. On Windows, it's\r\n *  trusted as a root certification authority in the user certificate store. On macOS, it's\r\n *  trusted as a root cert in the keychain. On other platforms, the certificate is generated\r\n *  and signed, but the user must trust it manually.\r\n */\r\nexport default class TrustCertTask extends GulpTask<{}> {\r\n  public name: string = 'trust-cert';\r\n\r\n  public executeTask(gulp: gulp.Gulp, completeCallback: (error?: string) => void): void {\r\n    const { ensureCertificate } = require('./certificates'); // tslint:disable-line\r\n    const certificate: ICertificate = ensureCertificate(true, this);\r\n\r\n    if (certificate.pemCertificate && certificate.pemKey) {\r\n      completeCallback();\r\n    } else {\r\n      completeCallback('Error trusting development certificate.');\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"..\\src"}