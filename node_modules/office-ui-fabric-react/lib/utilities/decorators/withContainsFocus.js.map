{"version":3,"sources":["utilities/decorators/withContainsFocus.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,6BAA+B;AAC/B,iDAAgD;AAEhD,2BAA4E,iBAA8E;IAExJ,MAAM;QAA0C,8CAAkE;QAQhH;YAAA,YACE,iBAAO,SAQR;YANC,KAAI,CAAC,KAAK,GAAG;gBACX,aAAa,EAAE,KAAK;aACrB,CAAC;YAEF,KAAI,CAAC,wBAAwB,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAI,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;YACjF,KAAI,CAAC,2BAA2B,GAAG,KAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;QACjF,CAAC;QAEM,yDAAoB,GAA3B;YACE,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;QAEM,2CAAM,GAAb;YACQ,IAAA,wCAAa,CAAgB;YAEnC,MAAM,CAAC,CACL,6BAAK,GAAG,EAAC,MAAM,EAAC,OAAO,EAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAG,MAAM,EAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC3F,oBAAC,iBAAiB,aAAC,GAAG,EAAG,IAAI,CAAC,2BAA2B,EAAG,aAAa,EAAG,aAAa,IAAO,IAAI,CAAC,KAAK,EAAI,CAC1G,CACP,CAAC;QACJ,CAAC;QAEM,gDAAW,GAAlB;YACE,IAAI,CAAC,0BAA0B,CAAC,WAAW,EAAE,CAAC;QAChD,CAAC;QAEO,iDAAY,GAApB,UAAqB,EAAE;YACrB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAClC,CAAC;QAEO,gDAAW,GAAnB,UAAoB,EAAE;YACpB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAClC,CAAC;QAEO,sDAAiB,GAAzB;YACE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,QAAQ,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;YAC3D,CAAC;QACH,CAAC;QACH,iCAAC;IAAD,CApDO,AAoDN,CApD+C,6BAAa,GAoD3D;AACJ,CAAC;AAvDD,8CAuDC","file":"utilities/decorators/withContainsFocus.js","sourcesContent":["import * as React from 'react';\r\nimport { BaseDecorator } from './BaseDecorator';\r\n\r\nexport function withContainsFocus<P extends { containsFocus?: boolean }, S>(ComposedComponent: (new (props: P, ...args: any[]) => (React.Component<P, S>))): any {\r\n\r\n  return class WithContainsFocusComponent extends BaseDecorator<P & { containsFocus? }, { containsFocus?: boolean }> {\r\n    public refs: {\r\n      [key: string]: React.ReactInstance,\r\n    };\r\n\r\n    private _newContainsFocus: boolean;\r\n    private _delayedSetContainsFocus: () => void;\r\n\r\n    constructor() {\r\n      super();\r\n\r\n      this.state = {\r\n        containsFocus: false\r\n      };\r\n\r\n      this._delayedSetContainsFocus = this._async.debounce(this._setContainsFocus, 20);\r\n      this._updateComposedComponentRef = this._updateComposedComponentRef.bind(this);\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n      this._async.dispose();\r\n    }\r\n\r\n    public render() {\r\n      let { containsFocus } = this.state;\r\n\r\n      return (\r\n        <div ref='root' onFocus={ this._handleFocus.bind(this) } onBlur={ this._handleBlur.bind(this) }>\r\n          <ComposedComponent ref={ this._updateComposedComponentRef } containsFocus={ containsFocus } {...this.props} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    public forceUpdate() {\r\n      this._composedComponentInstance.forceUpdate();\r\n    }\r\n\r\n    private _handleFocus(ev) {\r\n      this._newContainsFocus = true;\r\n      this._delayedSetContainsFocus();\r\n    }\r\n\r\n    private _handleBlur(ev) {\r\n      this._newContainsFocus = false;\r\n      this._delayedSetContainsFocus();\r\n    }\r\n\r\n    private _setContainsFocus() {\r\n      if (this.state.containsFocus !== this._newContainsFocus) {\r\n        this.setState({ containsFocus: this._newContainsFocus });\r\n      }\r\n    }\r\n  };\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}