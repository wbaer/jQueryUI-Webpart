"use strict";
var chai_1 = require("chai");
var index_1 = require("../../test/index");
var UrlUtilities_1 = require("../UrlUtilities");
describe('UrlUtilities tests', function () {
    describe('removeEndSlash', function () {
        it('should remove slashes when appropriate', function (done) {
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('http://example.com/'), 'http://example.com');
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('/example.com/'), '/example.com');
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('/'), '');
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('//example.com///'), '//example.com');
            done();
        });
        it('should not remove slashes when not appropriate', function (done) {
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('http://example.com'), 'http://example.com');
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash('/example.com'), '/example.com');
            chai_1.assert.equal(UrlUtilities_1.default.removeEndSlash(''), '');
            done();
        });
    });
    describe('convertToStringLiteral', function () {
        it('should double quotes', function (done) {
            chai_1.assert.equal(UrlUtilities_1.default.convertToODataStringLiteral("example's list"), "'example''s list'");
            chai_1.assert.equal(UrlUtilities_1.default.convertToODataStringLiteral("'example's list"), "'''example''s list'");
            chai_1.assert.equal(UrlUtilities_1.default.convertToODataStringLiteral(""), "''");
            done();
        });
        it('should append quotes', function (done) {
            chai_1.assert.equal(UrlUtilities_1.default.convertToODataStringLiteral("example list"), "'example list'");
            chai_1.assert.equal(UrlUtilities_1.default.convertToODataStringLiteral("example's list'"), "'example''s list'''");
            done();
        });
        it('should throw if null or undefined parameter', function (done) {
            chai_1.assert.throws(function () { UrlUtilities_1.default.convertToODataStringLiteral(index_1.TEST_UNDEFINED); });
            done();
        });
    });
});
