import { GulpTask } from '@microsoft/gulp-core-build';
import gulpType = require('gulp');
import ts = require('gulp-typescript');
import { IBuildConfig } from '@microsoft/gulp-core-build';
/** Includes the experimental stripInternal feature */
export interface ICompilerOptions extends ts.Settings {
    stripInternal?: boolean;
}
export interface ITypeScriptTaskConfig {
    /**
     * Fails the build when errors occur.
     * @default true
     */
    failBuildOnErrors?: boolean;
    /**
     * Glob matches for files to be included in the build.
     */
    sourceMatch?: string[];
    /**
     * Glob matches for files to be passed through the build.
     */
    staticMatch?: string[];
    /**
     * Optional override for a custom reporter object to be passed into the TypeScript compiler.
     */
    reporter?: ts.reporter.Reporter;
    /**
     * Removes comments from all generated `.js` files. Will **not** remove comments from generated `.d.ts` files.
     * Defaults to false.
     */
    removeCommentsFromJavaScript?: boolean;
    /**
     * If true, creates sourcemap files which are useful for debugging. Defaults to true.
     */
    emitSourceMaps?: boolean;
    /**
     * The directory to write the compiled javascript and typings files to. Defaults to buildConfig.libFolder
     */
    libDir?: string;
    /**
     * If defined, drop typescript files from an AMD build here. Defaults to buildConfig.libAMDFolder
     */
    libAMDDir?: string;
}
export declare class TypeScriptTask extends GulpTask<ITypeScriptTaskConfig> {
    name: string;
    taskConfig: ITypeScriptTaskConfig;
    private _tsProject;
    private _tsAMDProject;
    loadSchema(): Object;
    executeTask(gulp: gulpType.Gulp, completeCallback: (result?: string) => void): void;
    getCleanMatch(buildConfig: IBuildConfig, taskConfig?: ITypeScriptTaskConfig): string[];
    /** Override the new mergeConfig API */
    mergeConfig(config: ITypeScriptTaskConfig): void;
    private _normalizeConfig(buildConfig?);
    private _compileProject(gulp, tsProject, destDir, allStreams, result);
    private _resolveSourceMapRoot(file);
}
