{"version":3,"sources":["components/CommandBar/CommandBar.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;IAqBA,IAAM,YAAY,GAAG,UAAU,CAAC;IAChC,IAAM,cAAc,GAAG,IAAI,CAAC;IAY5B;QAAgC,8BAAmD;QAqBjF,oBAAY,KAAuB;YAAnC,YACE,kBAAM,KAAK,CAAC,SAMb;YAJC,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAE5C,KAAI,CAAC,GAAG,GAAG,iBAAK,CAAC,YAAY,CAAC,CAAC;YAC/B,KAAI,CAAC,OAAO,GAAG,IAAI,sBAAU,CAAC,KAAI,CAAC,CAAC;;QACtC,CAAC;QAEM,sCAAiB,GAAxB;YACE,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAE5B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC/D,CAAC;QAEM,yCAAoB,GAA3B;YACE,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC;QAEM,8CAAyB,GAAhC,UAAiC,SAA2B;YAC1D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QACjC,CAAC;QAEM,uCAAkB,GAAzB,UAA0B,SAA2B,EAAE,UAA4B;YACjF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAC/B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC;QACH,CAAC;QAEM,2BAAM,GAAb;YAAA,iBA6DC;YA5DO,IAAA,eAAqE,EAAnE,0CAAkB,EAAE,gDAAqB,EAAE,wBAAS,CAAgB;YACtE,IAAA,eAAuJ,EAArJ,gCAAa,EAAE,4CAAmB,EAAE,4CAAmB,EAAE,kCAAc,EAAE,gDAAqB,EAAE,8CAAoB,EAAE,sCAAgB,CAAgB;YAC9J,IAAI,SAAS,CAAC;YAEd,EAAE,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBACvB,SAAS,GAAG,CACV,6BAAK,SAAS,EAAC,qBAAqB,EAAC,GAAG,EAAC,eAAe;oBACtD,+BAAO,SAAS,EAAC,2BAA2B,EAAC,IAAI,EAAC,MAAM,EAAC,WAAW,EAAG,qBAAqB,GAAK;oBACjG,6BAAK,SAAS,EAAC,uEAAuE;wBACpF,2BAAG,SAAS,EAAC,yBAAyB,GAAK,CACvC;oBACN,6BAAK,SAAS,EAAC,gFAAgF;wBAC7F,2BAAG,SAAS,EAAC,yBAAyB,GAAK,CACvC,CACF,CACP,CAAC;YACJ,CAAC;YAED,MAAM,CAAC,CACL,6BAAK,SAAS,EAAG,eAAG,CAAC,eAAe,EAAE,SAAS,CAAC,EAAG,GAAG,EAAC,kBAAkB;gBACrE,SAAS;gBACX,oBAAC,qBAAS,IAAC,GAAG,EAAC,WAAW,EAAC,SAAS,EAAG,8BAAkB,CAAC,UAAU,EAAG,SAAS,EAAG,EAAE,IAAI,EAAE,SAAS,EAAE;oBACpG,6BAAK,SAAS,EAAC,+BAA+B,EAAC,GAAG,EAAC,gBAAgB,IAC/D,aAAa,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK,IAAK,OAAA,CACnC,KAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,KAAK,EAAE,mBAAmB,CAAC,CAC/D,EAFoC,CAEpC,CAAC,CAAC,MAAM,CAAC,CAAC,qBAAqB,IAAI,qBAAqB,CAAC,MAAM,CAAC,GAAG;wBAClE,6BAAK,SAAS,EAAC,mBAAmB,EAAC,GAAG,EAAG,YAAY,EAAG,GAAG,EAAG,YAAY;4BACxE,gCACE,EAAE,EAAG,IAAI,CAAC,GAAG,GAAG,YAAY,EAC5B,SAAS,EAAG,eAAG,CAAC,wBAAwB,EAAE,EAAE,aAAa,EAAE,CAAC,mBAAmB,KAAK,YAAY,CAAC,EAAE,CAAC,EACpG,OAAO,EAAG,IAAI,CAAC,gBAAgB,EAC/B,IAAI,EAAC,UAAU,gBACF,IAAI,CAAC,KAAK,CAAC,iBAAiB,IAAI,EAAE,mBAC/B,IAAI,wBACD,oBAAoB;gCAEvC,2BAAG,SAAS,EAAC,kDAAkD,GAAG,CAC3D,CACL;qBACP,GAAG,EAAE,CAAC,CACH;oBACN,6BAAK,SAAS,EAAC,4BAA4B,EAAC,GAAG,EAAC,mBAAmB,IAC/D,gBAAgB,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK,IAAK,OAAA,CACtC,KAAI,CAAC,uBAAuB,CAAC,IAAI,EAAE,KAAK,EAAE,mBAAmB,EAAE,IAAI,CAAC,CACrE,EAFuC,CAEvC,CAAC,CACE,CACI;gBACV,CAAC,mBAAmB,CAAC;oBACrB,CAAC,oBAAC,+BAAc,aACd,SAAS,EAAC,wBAAwB,EAClC,aAAa,EAAG,IAAI,EACpB,eAAe,EAAG,iCAAe,CAAC,cAAc,IAC3C,mBAAmB,IACxB,aAAa,EAAG,oBAAoB,EACpC,cAAc,EAAG,cAAc,EAC/B,SAAS,EAAG,IAAI,CAAC,qBAAqB,IACtC,CACD,GAAG,CAAC,IAAI,CAAC,CACR,CACP,CAAC;QACJ,CAAC;QAEM,0BAAK,GAAZ;YACE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QAC9B,CAAC;QAEO,4CAAuB,GAA/B,UAAgC,IAAyB,EAAE,KAAa,EAAE,mBAA2B,EAAE,SAAmB;YAA1H,iBAuCC;YAtCC,IAAM,OAAO,GAAG,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAM,SAAS,GAAG,eAAG,CAAC,IAAI,CAAC,OAAO,GAAG,wBAAwB,GAAG,wBAAwB,EAAE,CAAC,IAAI,CAAC,IAAI,IAAI,2BAA2B,CAAC,CAAC;YACrI,IAAM,cAAc,GAAG,eAAG,CAAC,SAAS,EAAE,EAAE,aAAa,EAAE,CAAC,mBAAmB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAC7F,IAAI,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC;YAE9C,MAAM,CAAC,6BAAK,SAAS,EAAG,eAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,SAAS,CAAC,EAAG,GAAG,EAAG,OAAO,EAAG,GAAG,EAAG,OAAO,IAC5F,CAAC;gBACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,gCAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAC1C,MAAM,CAAC,2CACA,0BAAc,CAAC,IAAI,EAAE,4BAAgB,CAAC,IAC3C,EAAE,EAAG,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EACxB,SAAS,EAAG,cAAc,EAC1B,OAAO,EAAG,UAAC,EAAE,IAAK,OAAA,KAAI,CAAC,YAAY,CAAC,EAAE,EAAE,IAAI,CAAC,EAA3B,CAA2B,sBAC1B,KAAK,mBACR,gCAAe,CAAC,IAAI,CAAC,EACrC,IAAI,EAAC,UAAU,gBACF,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI;wBAEtC,CAAC,OAAO,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;wBAC3C,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,8BAAM,SAAS,EAAC,+BAA+B,IAAG,IAAI,CAAC,IAAI,CAAS;wBACrF,gCAAe,CAAC,IAAI,CAAC,GAAG,CACxB,2BAAG,SAAS,EAAC,4DAA4D,GAAG,CAC7E,GAAG,CAAC,IAAI,CAAC,CACH,CAAC;gBACZ,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,wCACA,0BAAc,CAAC,IAAI,EAAE,yBAAa,CAAC,IACxC,EAAE,EAAG,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EACxB,SAAS,EAAG,cAAc,sBACP,KAAK,mBACR,gCAAe,CAAC,IAAI,CAAC;wBAEnC,CAAC,OAAO,CAAC,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;wBAC7C,8BAAM,SAAS,EAAC,gEAAgE,iBAAa,MAAM,EAAC,IAAI,EAAC,cAAc,IAAG,IAAI,CAAC,IAAI,CAAS,CACxI,CAAC;gBACT,CAAC;YACH,CAAC,CAAC,EAAE,CACA,CAAC;QACT,CAAC;QAEO,gCAAW,GAAnB,UAAoB,IAAyB;YAC3C,wEAAwE;YACxE,IAAI,SAAS,GAAe,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG;gBAC5D,QAAQ,EAAE,IAAI,CAAC,IAAgB;aAChC,CAAC;YACF,sDAAsD;YACtD,IAAI,kBAAkB,GAAG,SAAS,CAAC,QAAQ,KAAK,MAAM,GAAG,EAAE,GAAG,6BAA6B,CAAC;YAC5F,IAAI,aAAa,GAAG,eAAG,CAAC,wBAAwB,EAAE,kBAAkB,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC;YAE3F,MAAM,CAAC,oBAAC,WAAI,eAAM,SAAS,IAAG,SAAS,EAAG,aAAa,IAAK,CAAC;QAC/D,CAAC;QAEO,4CAAuB,GAA/B;YACE,2FAA2F;YAC3F,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC7F,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACvC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YAC1B,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;YAC/B,CAAC;YAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACjD,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAE/B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACvC,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAgB,CAAC;oBAE5C,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACP,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;oBACvE,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAEO,yCAAoB,GAA5B;YACM,IAAA,eAAqC,EAAnC,gBAAK,EAAE,gCAAa,CAAgB;YAC1C,IAAI,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC;YAC9C,IAAI,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;YACpD,IAAI,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;YAClD,IAAI,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YAC5C,IAAI,aAAa,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,qBAAqB,GAAG,aAAa,CAAC;YAC1C,IAAI,aAAa,GAAG,CAAC,CAAC;YACtB,IAAI,iBAAiB,GAAG,aAAa,IAAI,aAAa,CAAC,MAAM,CAAC;YAE9D,IAAI,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;YACpD,IAAI,cAAc,GAAG,gBAAgB,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACrH,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;gBAClB,cAAc,IAAI,aAAa,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;YAChE,CAAC;YACD,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtB,cAAc,IAAI,iBAAiB,CAAC,qBAAqB,EAAE,CAAC,KAAK,CAAC;YACpE,CAAC;YAED,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;gBACtB,cAAc,IAAI,IAAI,CAAC,cAAc,CAAC;YACxC,CAAC;YAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IAAI,IAAI,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,IAAI,SAAS,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAElD,EAAE,CAAC,CAAC,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC;oBAClD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,GAAG,cAAc,CAAC,CAAC,CAAC;wBACrF,CAAC,EAAE,CAAC;oBACN,CAAC;oBAED,qBAAqB,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBACtE,KAAK,CAAC;gBACR,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,aAAa,IAAI,SAAS,CAAC;gBAC7B,CAAC;YAEH,CAAC;YAED,IAAI,2BAA2B,GAAG,IAAI,CAAC,kCAAkC,CACvE,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,EACjD,qBAAqB,CAAC,CAAC;YAEzB,IAAI,CAAC,QAAQ,CAAC;gBACZ,aAAa,EAAE,aAAa;gBAC5B,qBAAqB,EAAE,qBAAqB;gBAC5C,mBAAmB,EAAE,2BAA2B,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAmB,GAAG,IAAI;gBACxF,mBAAmB,EAAE,2BAA2B;gBAChD,oBAAoB,EAAE,2BAA2B,GAAG,IAAI,CAAC,KAAK,CAAC,oBAAoB,GAAG,IAAI;aAC3F,CAAC,CAAC;QACL,CAAC;QAEO,iCAAY,GAApB,UAAqB,EAAE,EAAE,IAAI;YAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,KAAK,CAAC,mBAAmB,IAAI,CAAC,gCAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1E,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,QAAQ,CAAC;oBACZ,cAAc,EAAE,EAAE,CAAC,aAAa,CAAC,EAAE;oBACnC,mBAAmB,EAAE,IAAI,CAAC,GAAG;oBAC7B,mBAAmB,EAAE,IAAI,CAAC,+BAA+B,CAAC,IAAI,CAAC;oBAC/D,oBAAoB,EAAE,EAAE,CAAC,aAAa;iBACvC,CAAC,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACzB,CAAC;QACH,CAAC;QAGO,qCAAgB,GAAxB,UAAyB,EAAE;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,KAAK,YAAY,CAAC,CAAC,CAAC;gBACpD,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,QAAQ,CAAC;oBACZ,cAAc,EAAE,EAAE,CAAC,aAAa,CAAC,EAAE;oBACnC,mBAAmB,EAAE,YAAY;oBACjC,mBAAmB,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,qBAAqB,EAAE;oBAChE,oBAAoB,EAAE,EAAE,CAAC,aAAa;iBACvC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QAGO,0CAAqB,GAA7B,UAA8B,EAAQ;YACpC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE,CAAC,aAA4B,CAAC,CAAC,CAAC,CAAC;gBAC9F,IAAA,oDAAmB,CAAgB;gBAEzC,EAAE,CAAC,CAAC,mBAAmB,IAAI,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC;oBACzD,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBAC/C,CAAC;gBAED,IAAI,CAAC,QAAQ,CAAC;oBACZ,mBAAmB,EAAE,IAAI;oBACzB,mBAAmB,EAAE,IAAI;oBACzB,oBAAoB,EAAE,IAAI;iBAC3B,CAAC,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,eAAe,EAAE,CAAC;gBACrB,EAAE,CAAC,cAAc,EAAE,CAAC;YACtB,CAAC;QACH,CAAC;QAEO,uCAAkB,GAA1B,UAA2B,SAA2B;YACpD,MAAM,CAAC;gBACL,aAAa,EAAE,SAAS,CAAC,KAAK,IAAI,EAAE;gBACpC,qBAAqB,EAAE,IAAI;gBAC3B,mBAAmB,EAAE,IAAI,CAAC,kCAAkC,CAC1D,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,EAC1C,SAAS,CAAC,aAAa,CAAC;gBAC1B,gBAAgB,EAAE,SAAS,CAAC,QAAQ,IAAI,IAAI;aAC7C,CAAC;QACJ,CAAC;QAEO,uDAAkC,GAA1C,UAA2C,aAAoC,EAAE,aAAoC;YAArH,iBAgBC;YAfC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC,CAAC;gBACjD,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,KAAK,YAAY,CAAC,CAAC,CAAC;oBACpD,8BAA8B;oBAC9B,MAAM,CAAC,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC;gBAClC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,+CAA+C;oBAC/C,IAAI,YAAY,GAAG,aAAa,CAAC,MAAM,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,GAAG,KAAK,KAAI,CAAC,KAAK,CAAC,mBAAmB,EAA3C,CAA2C,CAAC,CAAC;oBAE7F,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC9B,MAAM,CAAC,IAAI,CAAC,+BAA+B,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC/D,CAAC;gBACH,CAAC;YACH,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAEO,oDAA+B,GAAvC,UAAwC,IAAyB;YAC/D,MAAM,CAAC,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QACpE,CAAC;QACH,iBAAC;IAAD,CA9UA,AA8UC,CA9U+B,KAAK,CAAC,SAAS;IAC/B,uBAAY,GAAG;QAC3B,KAAK,EAAE,EAAE;QACT,aAAa,EAAE,EAAE;QACjB,QAAQ,EAAE,EAAE;KACb,CAAC;IAwQF;QADC,oBAAQ;sDAYR;IAGD;QADC,oBAAQ;2DAkBR;IA5SU,gCAAU","file":"components/CommandBar/CommandBar.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  EventGroup,\r\n  autobind,\r\n  buttonProperties,\r\n  css,\r\n  divProperties,\r\n  getId,\r\n  getNativeProps\r\n} from '../../Utilities';\r\nimport { ICommandBar, ICommandBarProps } from './CommandBar.Props';\r\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\r\nimport { ContextualMenu, IContextualMenuProps, IContextualMenuItem, hasSubmenuItems } from '../../ContextualMenu';\r\nimport { DirectionalHint } from '../../common/DirectionalHint';\r\nimport {\r\n  Icon,\r\n  IconName,\r\n  IIconProps\r\n} from '../../Icon';\r\nimport './CommandBar.scss';\r\n\r\nconst OVERFLOW_KEY = 'overflow';\r\nconst OVERFLOW_WIDTH = 41.5;\r\n\r\nexport interface ICommandBarState {\r\n  renderedItems?: IContextualMenuItem[];\r\n  renderedOverflowItems?: IContextualMenuItem[];\r\n  expandedMenuItemKey?: string;\r\n  expandedMenuId?: string;\r\n  contextualMenuProps?: IContextualMenuProps;\r\n  contextualMenuTarget?: HTMLElement;\r\n  renderedFarItems?: IContextualMenuItem[];\r\n}\r\n\r\nexport class CommandBar extends React.Component<ICommandBarProps, ICommandBarState> implements ICommandBar {\r\n  public static defaultProps = {\r\n    items: [],\r\n    overflowItems: [],\r\n    farItems: []\r\n  };\r\n\r\n  public refs: {\r\n    [key: string]: React.ReactInstance;\r\n    commandSurface: HTMLElement;\r\n    farCommandSurface: HTMLElement;\r\n    commandBarRegion: HTMLElement;\r\n    searchSurface: HTMLElement;\r\n    focusZone: FocusZone;\r\n  };\r\n\r\n  private _id: string;\r\n  private _overflowWidth: number;\r\n  private _commandItemWidths: { [key: string]: number };\r\n  private _events: EventGroup;\r\n\r\n  constructor(props: ICommandBarProps) {\r\n    super(props);\r\n\r\n    this.state = this._getStateFromProps(props);\r\n\r\n    this._id = getId('CommandBar');\r\n    this._events = new EventGroup(this);\r\n  }\r\n\r\n  public componentDidMount() {\r\n    this._updateItemMeasurements();\r\n    this._updateRenderedItems();\r\n\r\n    this._events.on(window, 'resize', this._updateRenderedItems);\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    this._events.dispose();\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: ICommandBarProps) {\r\n    this.setState(this._getStateFromProps(nextProps));\r\n    this._commandItemWidths = null;\r\n  }\r\n\r\n  public componentDidUpdate(prevProps: ICommandBarProps, prevStates: ICommandBarState) {\r\n    if (!this._commandItemWidths) {\r\n      this._updateItemMeasurements();\r\n      this._updateRenderedItems();\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    const { isSearchBoxVisible, searchPlaceholderText, className } = this.props;\r\n    const { renderedItems, contextualMenuProps, expandedMenuItemKey, expandedMenuId, renderedOverflowItems, contextualMenuTarget, renderedFarItems } = this.state;\r\n    let searchBox;\r\n\r\n    if (isSearchBoxVisible) {\r\n      searchBox = (\r\n        <div className='ms-CommandBarSearch' ref='searchSurface'>\r\n          <input className='ms-CommandBarSearch-input' type='text' placeholder={ searchPlaceholderText } />\r\n          <div className='ms-CommandBarSearch-iconWrapper ms-CommandBarSearch-iconSearchWrapper'>\r\n            <i className='ms-Icon ms-Icon--Search'></i>\r\n          </div>\r\n          <div className='ms-CommandBarSearch-iconWrapper ms-CommandBarSearch-iconClearWrapper ms-font-s'>\r\n            <i className='ms-Icon ms-Icon--Cancel'></i>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={ css('ms-CommandBar', className) } ref='commandBarRegion'>\r\n        { searchBox }\r\n        <FocusZone ref='focusZone' direction={ FocusZoneDirection.horizontal } rootProps={ { role: 'menubar' } }>\r\n          <div className='ms-CommandBar-primaryCommands' ref='commandSurface'>\r\n            { renderedItems.map((item, index) => (\r\n              this._renderItemInCommandBar(item, index, expandedMenuItemKey)\r\n            )).concat((renderedOverflowItems && renderedOverflowItems.length) ? [\r\n              <div className='ms-CommandBarItem' key={ OVERFLOW_KEY } ref={ OVERFLOW_KEY }>\r\n                <button\r\n                  id={ this._id + OVERFLOW_KEY }\r\n                  className={ css('ms-CommandBarItem-link', { 'is-expanded': (expandedMenuItemKey === OVERFLOW_KEY) }) }\r\n                  onClick={ this._onOverflowClick }\r\n                  role='menuitem'\r\n                  aria-label={ this.props.elipisisAriaLabel || '' }\r\n                  aria-haspopup={ true }\r\n                  data-automation-id='commandBarOverflow'\r\n                >\r\n                  <i className='ms-CommandBarItem-overflow ms-Icon ms-Icon--More' />\r\n                </button>\r\n              </div>\r\n            ] : []) }\r\n          </div>\r\n          <div className='ms-CommandBar-sideCommands' ref='farCommandSurface'>\r\n            { renderedFarItems.map((item, index) => (\r\n              this._renderItemInCommandBar(item, index, expandedMenuItemKey, true)\r\n            )) }\r\n          </div>\r\n        </FocusZone>\r\n        { (contextualMenuProps) ?\r\n          (<ContextualMenu\r\n            className='ms-CommandBar-menuHost'\r\n            isBeakVisible={ true }\r\n            directionalHint={ DirectionalHint.bottomAutoEdge }\r\n            { ...contextualMenuProps }\r\n            targetElement={ contextualMenuTarget }\r\n            labelElementId={ expandedMenuId }\r\n            onDismiss={ this._onContextMenuDismiss }\r\n          />\r\n          ) : (null) }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public focus() {\r\n    this.refs.focusZone.focus();\r\n  }\r\n\r\n  private _renderItemInCommandBar(item: IContextualMenuItem, index: number, expandedMenuItemKey: string, isFarItem?: boolean) {\r\n    const itemKey = item.key || String(index);\r\n    const className = css(item.onClick ? 'ms-CommandBarItem-link' : 'ms-CommandBarItem-text', !item.name && 'ms-CommandBarItem--noName');\r\n    const classNameValue = css(className, { 'is-expanded': (expandedMenuItemKey === item.key) });\r\n    let hasIcon = !!item.icon || !!item.iconProps;\r\n\r\n    return <div className={ css('ms-CommandBarItem', item.className) } key={ itemKey } ref={ itemKey }>\r\n      { (() => {\r\n        if (item.onClick || hasSubmenuItems(item)) {\r\n          return <button\r\n            { ...getNativeProps(item, buttonProperties) }\r\n            id={ this._id + item.key }\r\n            className={ classNameValue }\r\n            onClick={ (ev) => this._onItemClick(ev, item) }\r\n            data-command-key={ index }\r\n            aria-haspopup={ hasSubmenuItems(item) }\r\n            role='menuitem'\r\n            aria-label={ item.ariaLabel || item.name }\r\n          >\r\n            { (hasIcon) ? this._renderIcon(item) : (null) }\r\n            { (!!item.name) && <span className='ms-CommandBarItem-commandText'>{ item.name }</span> }\r\n            { hasSubmenuItems(item) ? (\r\n              <i className='ms-CommandBarItem-chevronDown ms-Icon ms-Icon--ChevronDown' />\r\n            ) : (null) }\r\n          </button>;\r\n        } else {\r\n          return <div\r\n            { ...getNativeProps(item, divProperties) }\r\n            id={ this._id + item.key }\r\n            className={ classNameValue }\r\n            data-command-key={ index }\r\n            aria-haspopup={ hasSubmenuItems(item) }\r\n          >\r\n            { (hasIcon) ? this._renderIcon(item) : (null) }\r\n            <span className='ms-CommandBarItem-commandText ms-font-m ms-font-weight-regular' aria-hidden='true' role='presentation'>{ item.name }</span>\r\n          </div>;\r\n        }\r\n      })() }\r\n    </div>;\r\n  }\r\n\r\n  private _renderIcon(item: IContextualMenuItem) {\r\n    // Only present to allow continued use of item.icon which is deprecated.\r\n    let iconProps: IIconProps = item.iconProps ? item.iconProps : {\r\n      iconName: item.icon as IconName\r\n    };\r\n    // Use the default icon color for the known icon names\r\n    let iconColorClassName = iconProps.iconName === 'None' ? '' : 'ms-CommandBarItem-iconColor';\r\n    let iconClassName = css('ms-CommandBarItem-icon', iconColorClassName, iconProps.className);\r\n\r\n    return <Icon { ...iconProps } className={ iconClassName } />;\r\n  }\r\n\r\n  private _updateItemMeasurements() {\r\n    // the generated width for overflow is 35 in chrome, 38 in IE, but the actual value is 41.5\r\n    if (this.refs[OVERFLOW_KEY] || (this.props.overflowItems && this.props.overflowItems.length)) {\r\n      this._overflowWidth = OVERFLOW_WIDTH;\r\n    } else {\r\n      this._overflowWidth = 0;\r\n    }\r\n\r\n    if (!this._commandItemWidths) {\r\n      this._commandItemWidths = {};\r\n    }\r\n\r\n    for (let i = 0; i < this.props.items.length; i++) {\r\n      let item = this.props.items[i];\r\n\r\n      if (!this._commandItemWidths[item.key]) {\r\n        let el = this.refs[item.key] as HTMLElement;\r\n\r\n        if (el) {\r\n          this._commandItemWidths[item.key] = el.getBoundingClientRect().width;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private _updateRenderedItems() {\r\n    let { items, overflowItems } = this.props;\r\n    let commandSurface = this.refs.commandSurface;\r\n    let farCommandSurface = this.refs.farCommandSurface;\r\n    let commandBarRegion = this.refs.commandBarRegion;\r\n    let searchSurface = this.refs.searchSurface;\r\n    let renderedItems = [].concat(items);\r\n    let renderedOverflowItems = overflowItems;\r\n    let consumedWidth = 0;\r\n    let isOverflowVisible = overflowItems && overflowItems.length;\r\n\r\n    let style = window.getComputedStyle(commandSurface);\r\n    let availableWidth = commandBarRegion.clientWidth - parseInt(style.marginLeft, 10) - parseInt(style.marginRight, 10);\r\n    if (searchSurface) {\r\n      availableWidth -= searchSurface.getBoundingClientRect().width;\r\n    }\r\n    if (farCommandSurface) {\r\n      availableWidth -= farCommandSurface.getBoundingClientRect().width;\r\n    }\r\n\r\n    if (isOverflowVisible) {\r\n      availableWidth -= this._overflowWidth;\r\n    }\r\n\r\n    for (let i = 0; i < renderedItems.length; i++) {\r\n      let item = renderedItems[i];\r\n      let itemWidth = this._commandItemWidths[item.key];\r\n\r\n      if ((consumedWidth + itemWidth) >= availableWidth) {\r\n        if (i > 0 && !isOverflowVisible && (availableWidth - consumedWidth) < OVERFLOW_WIDTH) {\r\n          i--;\r\n        }\r\n\r\n        renderedOverflowItems = renderedItems.splice(i).concat(overflowItems);\r\n        break;\r\n      } else {\r\n        consumedWidth += itemWidth;\r\n      }\r\n\r\n    }\r\n\r\n    let renderedContextualMenuProps = this._getContextualMenuPropsAfterUpdate(\r\n      renderedItems.concat(this.state.renderedFarItems),\r\n      renderedOverflowItems);\r\n\r\n    this.setState({\r\n      renderedItems: renderedItems,\r\n      renderedOverflowItems: renderedOverflowItems,\r\n      expandedMenuItemKey: renderedContextualMenuProps ? this.state.expandedMenuItemKey : null,\r\n      contextualMenuProps: renderedContextualMenuProps,\r\n      contextualMenuTarget: renderedContextualMenuProps ? this.state.contextualMenuTarget : null\r\n    });\r\n  }\r\n\r\n  private _onItemClick(ev, item) {\r\n    if (item.key === this.state.expandedMenuItemKey || !hasSubmenuItems(item)) {\r\n      this._onContextMenuDismiss();\r\n    } else {\r\n      this.setState({\r\n        expandedMenuId: ev.currentTarget.id,\r\n        expandedMenuItemKey: item.key,\r\n        contextualMenuProps: this._getContextualMenuPropsFromItem(item),\r\n        contextualMenuTarget: ev.currentTarget\r\n      });\r\n    }\r\n    if (item.onClick) {\r\n      item.onClick(ev, item);\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onOverflowClick(ev) {\r\n    if (this.state.expandedMenuItemKey === OVERFLOW_KEY) {\r\n      this._onContextMenuDismiss();\r\n    } else {\r\n      this.setState({\r\n        expandedMenuId: ev.currentTarget.id,\r\n        expandedMenuItemKey: OVERFLOW_KEY,\r\n        contextualMenuProps: { items: this.state.renderedOverflowItems },\r\n        contextualMenuTarget: ev.currentTarget\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onContextMenuDismiss(ev?: any) {\r\n    if (!ev || !ev.relatedTarget || !this.refs.commandSurface.contains(ev.relatedTarget as HTMLElement)) {\r\n      let { contextualMenuProps } = this.state;\r\n\r\n      if (contextualMenuProps && contextualMenuProps.onDismiss) {\r\n        this.state.contextualMenuProps.onDismiss(ev);\r\n      }\r\n\r\n      this.setState({\r\n        expandedMenuItemKey: null,\r\n        contextualMenuProps: null,\r\n        contextualMenuTarget: null\r\n      });\r\n    } else {\r\n      ev.stopPropagation();\r\n      ev.preventDefault();\r\n    }\r\n  }\r\n\r\n  private _getStateFromProps(nextProps: ICommandBarProps) {\r\n    return {\r\n      renderedItems: nextProps.items || [],\r\n      renderedOverflowItems: null,\r\n      contextualMenuProps: this._getContextualMenuPropsAfterUpdate(\r\n        nextProps.items.concat(nextProps.farItems),\r\n        nextProps.overflowItems),\r\n      renderedFarItems: nextProps.farItems || null\r\n    };\r\n  }\r\n\r\n  private _getContextualMenuPropsAfterUpdate(renderedItems: IContextualMenuItem[], overflowItems: IContextualMenuItem[]) {\r\n    if (this.state && this.state.expandedMenuItemKey) {\r\n      if (this.state.expandedMenuItemKey === OVERFLOW_KEY) {\r\n        // Keep the overflow menu open\r\n        return { items: overflowItems };\r\n      } else {\r\n        // Find the currently open key in the new props\r\n        let matchingItem = renderedItems.filter(item => item.key === this.state.expandedMenuItemKey);\r\n\r\n        if (matchingItem.length === 1) {\r\n          return this._getContextualMenuPropsFromItem(matchingItem[0]);\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private _getContextualMenuPropsFromItem(item: IContextualMenuItem) {\r\n    return item.subMenuProps || (item.items && { items: item.items });\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}