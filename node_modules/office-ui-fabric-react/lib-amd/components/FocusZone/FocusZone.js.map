{"version":3,"sources":["components/FocusZone/FocusZone.tsx"],"names":[],"mappings":"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","file":"components/FocusZone/FocusZone.js","sourcesContent":["import * as React from 'react';\r\nimport {\r\n  FocusZoneDirection,\r\n  IFocusZone,\r\n  IFocusZoneProps\r\n} from './FocusZone.Props';\r\nimport {\r\n  BaseComponent,\r\n  EventGroup,\r\n  KeyCodes,\r\n  autobind,\r\n  css,\r\n  elementContains,\r\n  getDocument,\r\n  getId,\r\n  getNextElement,\r\n  getParent,\r\n  getPreviousElement,\r\n  getRTL,\r\n  isElementFocusZone,\r\n  isElementTabbable\r\n} from '../../Utilities';\r\n\r\nconst IS_FOCUSABLE_ATTRIBUTE = 'data-is-focusable';\r\nconst IS_ENTER_DISABLED_ATTRIBUTE = 'data-disable-click-on-enter';\r\nconst FOCUSZONE_ID_ATTRIBUTE = 'data-focuszone-id';\r\nconst TABINDEX = 'tabindex';\r\n\r\nlet _allInstances: {\r\n  [key: string]: FocusZone\r\n} = {};\r\n\r\ninterface IPoint {\r\n  left: number;\r\n  top: number;\r\n}\r\nconst ALLOWED_INPUT_TYPES = ['text', 'number', 'password', 'email', 'tel', 'url', 'search'];\r\n\r\nexport class FocusZone extends BaseComponent<IFocusZoneProps, {}> implements IFocusZone {\r\n\r\n  public static defaultProps: IFocusZoneProps = {\r\n    isCircularNavigation: false,\r\n    direction: FocusZoneDirection.bidirectional\r\n  };\r\n\r\n  public refs: {\r\n    [key: string]: React.ReactInstance,\r\n    root: HTMLElement\r\n  };\r\n\r\n  private _id: string;\r\n  private _activeElement: HTMLElement;\r\n  private _focusAlignment: IPoint;\r\n  private _isInnerZone: boolean;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this._id = getId('FocusZone');\r\n    _allInstances[this._id] = this;\r\n\r\n    this._focusAlignment = {\r\n      left: 0,\r\n      top: 0\r\n    };\r\n  }\r\n\r\n  public componentDidMount() {\r\n    const windowElement = this.refs.root.ownerDocument.defaultView;\r\n\r\n    let parentElement = getParent(this.refs.root);\r\n\r\n    while (\r\n      parentElement &&\r\n      parentElement !== document.body &&\r\n      parentElement.nodeType === 1\r\n    ) {\r\n      if (isElementFocusZone(parentElement)) {\r\n        this._isInnerZone = true;\r\n        break;\r\n      }\r\n      parentElement = getParent(parentElement);\r\n    }\r\n\r\n    this._events.on(windowElement, 'keydown', this._onKeyDownCapture, true);\r\n\r\n    // Assign initial tab indexes so that we can set initial focus as appropriate.\r\n    this._updateTabIndexes();\r\n\r\n    if (this.props.defaultActiveElement) {\r\n      this._activeElement = getDocument().querySelector(this.props.defaultActiveElement) as HTMLElement;\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount() {\r\n    delete _allInstances[this._id];\r\n  }\r\n\r\n  public render() {\r\n    let { rootProps, ariaLabelledBy, className } = this.props;\r\n\r\n    return (\r\n      <div\r\n        { ...rootProps }\r\n        className={ css('ms-FocusZone', className) }\r\n        ref='root'\r\n        data-focuszone-id={ this._id }\r\n        aria-labelledby={ ariaLabelledBy }\r\n        onKeyDown={ this._onKeyDown }\r\n        onFocus={ this._onFocus }\r\n        { ...{ onMouseDownCapture: this._onMouseDown } }\r\n        >\r\n        { this.props.children }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Sets focus to the first tabbable item in the zone.\r\n   * @returns True if focus could be set to an active element, false if no operation was taken.\r\n   */\r\n  public focus(): boolean {\r\n    if (this._activeElement && elementContains(this.refs.root, this._activeElement)) {\r\n      this._activeElement.focus();\r\n      return true;\r\n    } else {\r\n      const firstChild = this.refs.root.firstChild as HTMLElement;\r\n\r\n      return this.focusElement(getNextElement(this.refs.root, firstChild, true));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets focus to a specific child element within the zone. This can be used in conjunction with\r\n   * onBeforeFocus to created delayed focus scenarios (like animate the scroll position to the correct\r\n   * location and then focus.)\r\n   * @param {HTMLElement} element The child element within the zone to focus.\r\n   * @returns True if focus could be set to an active element, false if no operation was taken.\r\n   */\r\n  public focusElement(element: HTMLElement): boolean {\r\n    let { onBeforeFocus } = this.props;\r\n\r\n    if (onBeforeFocus && !onBeforeFocus(element)) {\r\n      return false;\r\n    }\r\n\r\n    if (element) {\r\n      if (this._activeElement) {\r\n        this._activeElement.tabIndex = -1;\r\n      }\r\n\r\n      this._activeElement = element;\r\n\r\n      if (element) {\r\n        if (!this._focusAlignment) {\r\n          this._setFocusAlignment(element, true, true);\r\n        }\r\n\r\n        this._activeElement.tabIndex = 0;\r\n        element.focus();\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  @autobind\r\n  private _onFocus(ev: React.FocusEvent<HTMLElement>) {\r\n    let { onActiveElementChanged } = this.props;\r\n\r\n    if (this._isImmediateDescendantOfZone(ev.target as HTMLElement)) {\r\n      this._activeElement = ev.target as HTMLElement;\r\n      this._setFocusAlignment(this._activeElement);\r\n    } else {\r\n      let parentElement = ev.target as HTMLElement;\r\n\r\n      while (parentElement && parentElement !== this.refs.root) {\r\n        if (isElementTabbable(parentElement) && this._isImmediateDescendantOfZone(parentElement)) {\r\n          this._activeElement = parentElement;\r\n          break;\r\n        }\r\n        parentElement = getParent(parentElement);\r\n      }\r\n    }\r\n    if (onActiveElementChanged) {\r\n      onActiveElementChanged(this._activeElement, ev);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle global tab presses so that we can patch tabindexes on the fly.\r\n   */\r\n  private _onKeyDownCapture(ev: KeyboardEvent) {\r\n    if (ev.which === KeyCodes.tab) {\r\n      this._updateTabIndexes();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  private _onMouseDown(ev: React.MouseEvent<HTMLElement>) {\r\n    const { disabled } = this.props;\r\n\r\n    if (disabled) {\r\n      return;\r\n    }\r\n\r\n    let target = ev.target as HTMLElement;\r\n    const path = [];\r\n\r\n    while (target && target !== this.refs.root) {\r\n      path.push(target);\r\n      target = getParent(target);\r\n    }\r\n\r\n    while (path.length) {\r\n      target = path.pop();\r\n\r\n      if (isElementFocusZone(target)) {\r\n        break;\r\n      } else if (target && isElementTabbable(target)) {\r\n        target.tabIndex = 0;\r\n        this._setFocusAlignment(target, true, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle the keystrokes.\r\n   */\r\n  @autobind\r\n  private _onKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    const { direction, disabled, isInnerZoneKeystroke } = this.props;\r\n\r\n    if (disabled) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      isInnerZoneKeystroke &&\r\n      this._isImmediateDescendantOfZone(ev.target as HTMLElement) &&\r\n      isInnerZoneKeystroke(ev)) {\r\n\r\n      // Try to focus\r\n      let innerZone = this._getFirstInnerZone();\r\n\r\n      if (!innerZone || !innerZone.focus()) {\r\n        return;\r\n      }\r\n    } else {\r\n      switch (ev.which) {\r\n        case KeyCodes.left:\r\n          if (direction !== FocusZoneDirection.vertical && this._moveFocusLeft()) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.right:\r\n          if (direction !== FocusZoneDirection.vertical && this._moveFocusRight()) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.up:\r\n          if (direction !== FocusZoneDirection.horizontal && this._moveFocusUp()) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.down:\r\n          if (direction !== FocusZoneDirection.horizontal && this._moveFocusDown()) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.home:\r\n          const firstChild = this.refs.root.firstChild as HTMLElement;\r\n          if (this.focusElement(getNextElement(this.refs.root, firstChild, true))) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.end:\r\n          const lastChild = this.refs.root.lastChild as HTMLElement;\r\n          if (this.focusElement(getPreviousElement(this.refs.root, lastChild, true, true, true))) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        case KeyCodes.enter:\r\n          if (this._tryInvokeClickForFocusable(ev.target as HTMLElement)) {\r\n            break;\r\n          }\r\n          return;\r\n\r\n        default:\r\n          return;\r\n      }\r\n    }\r\n\r\n    ev.preventDefault();\r\n    ev.stopPropagation();\r\n  }\r\n\r\n  /**\r\n   * Walk up the dom try to find a focusable element.\r\n   */\r\n  private _tryInvokeClickForFocusable(target: HTMLElement): boolean {\r\n    do {\r\n      if (target.tagName === 'BUTTON' || target.tagName === 'A') {\r\n        return false;\r\n      }\r\n\r\n      if (\r\n        this._isImmediateDescendantOfZone(target) &&\r\n        target.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'true' &&\r\n        target.getAttribute(IS_ENTER_DISABLED_ATTRIBUTE) !== 'true') {\r\n        EventGroup.raise(target, 'click', null, true);\r\n\r\n        return true;\r\n      }\r\n\r\n      target = getParent(target);\r\n    } while (target !== this.refs.root);\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Traverse to find first child zone.\r\n   */\r\n  private _getFirstInnerZone(rootElement?: HTMLElement): FocusZone {\r\n    rootElement = rootElement || this._activeElement || this.refs.root;\r\n\r\n    let child: HTMLElement = rootElement.firstElementChild as HTMLElement;\r\n\r\n    while (child) {\r\n      if (isElementFocusZone(child)) {\r\n        return _allInstances[child.getAttribute(FOCUSZONE_ID_ATTRIBUTE)];\r\n      }\r\n      let match = this._getFirstInnerZone(child);\r\n\r\n      if (match) {\r\n        return match;\r\n      }\r\n\r\n      child = child.nextElementSibling as HTMLElement;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private _moveFocus(\r\n    isForward: boolean,\r\n    getDistanceFromCenter: (activeRect: ClientRect, targetRect: ClientRect) => number,\r\n    ev?: Event): boolean {\r\n\r\n    let element = this._activeElement;\r\n    let candidateDistance = -1;\r\n    let candidateElement: HTMLElement;\r\n    let changedFocus = false;\r\n    let isBidirectional = this.props.direction === FocusZoneDirection.bidirectional;\r\n\r\n    if (!element) {\r\n      return false;\r\n    }\r\n\r\n    if (this._isElementInput(element)) {\r\n      if (!this._shouldInputLoseFocus(element as HTMLInputElement, isForward)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    const activeRect = isBidirectional ? element.getBoundingClientRect() : null;\r\n\r\n    do {\r\n      element = isForward ?\r\n        getNextElement(this.refs.root, element) :\r\n        getPreviousElement(this.refs.root, element);\r\n\r\n      if (isBidirectional) {\r\n        if (element) {\r\n          const targetRect = element.getBoundingClientRect();\r\n          const elementDistance = getDistanceFromCenter(activeRect, targetRect);\r\n\r\n          if (elementDistance > -1 && (candidateDistance === -1 || elementDistance < candidateDistance)) {\r\n            candidateDistance = elementDistance;\r\n            candidateElement = element;\r\n          }\r\n\r\n          if (candidateDistance >= 0 && elementDistance < 0) {\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        candidateElement = element;\r\n        break;\r\n      }\r\n\r\n    } while (element);\r\n\r\n    // Focus the closest candidate\r\n    if (candidateElement && candidateElement !== this._activeElement) {\r\n      changedFocus = true;\r\n      this.focusElement(candidateElement);\r\n    } else if (this.props.isCircularNavigation) {\r\n      if (isForward) {\r\n        return this.focusElement(getNextElement(this.refs.root, this.refs.root.firstElementChild as HTMLElement, true));\r\n      } else {\r\n        return this.focusElement(getPreviousElement(this.refs.root, this.refs.root.lastElementChild as HTMLElement, true, true, true));\r\n      }\r\n    }\r\n\r\n    return changedFocus;\r\n  }\r\n\r\n  private _moveFocusDown(): boolean {\r\n    let targetTop = -1;\r\n    const leftAlignment = this._focusAlignment.left;\r\n\r\n    if (this._moveFocus(true, (activeRect: ClientRect, targetRect: ClientRect) => {\r\n      let distance = -1;\r\n      // ClientRect values can be floats that differ by very small fractions of a decimal.\r\n      // If the difference between top and bottom are within a pixel then we should treat\r\n      // them as equivalent by using Math.floor. For instance 5.2222 and 5.222221 should be equivalent,\r\n      // but without Math.Floor they will be handled incorrectly.\r\n      let targetRectTop = Math.floor(targetRect.top);\r\n      let activeRectBottom = Math.floor(activeRect.bottom);\r\n\r\n      if ((targetTop === -1 && targetRectTop >= activeRectBottom) ||\r\n        (targetRectTop === targetTop)) {\r\n        targetTop = targetRectTop;\r\n        if (leftAlignment >= targetRect.left && leftAlignment <= (targetRect.left + targetRect.width)) {\r\n          distance = 0;\r\n        } else {\r\n          distance = Math.abs((targetRect.left + (targetRect.width / 2)) - leftAlignment);\r\n        }\r\n      }\r\n\r\n      return distance;\r\n    })) {\r\n      this._setFocusAlignment(this._activeElement, false, true);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private _moveFocusUp(): boolean {\r\n    let targetTop = -1;\r\n    const leftAlignment = this._focusAlignment.left;\r\n\r\n    if (this._moveFocus(false, (activeRect: ClientRect, targetRect: ClientRect) => {\r\n      let distance = -1;\r\n      // ClientRect values can be floats that differ by very small fractions of a decimal.\r\n      // If the difference between top and bottom are within a pixel then we should treat\r\n      // them as equivalent by using Math.floor. For instance 5.2222 and 5.222221 should be equivalent,\r\n      // but without Math.Floor they will be handled incorrectly.\r\n      let targetRectBottom = Math.floor(targetRect.bottom);\r\n      let targetRectTop = Math.floor(targetRect.top);\r\n      let activeRectTop = Math.floor(activeRect.top);\r\n\r\n      if ((targetTop === -1 && targetRectBottom <= activeRectTop) ||\r\n        (targetRectTop === targetTop)) {\r\n        targetTop = targetRectTop;\r\n        if (leftAlignment >= targetRect.left && leftAlignment <= (targetRect.left + targetRect.width)) {\r\n          distance = 0;\r\n        } else {\r\n          distance = Math.abs((targetRect.left + (targetRect.width / 2)) - leftAlignment);\r\n        }\r\n      }\r\n\r\n      return distance;\r\n    })) {\r\n      this._setFocusAlignment(this._activeElement, false, true);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private _moveFocusLeft(): boolean {\r\n    let targetTop = -1;\r\n    const topAlignment = this._focusAlignment.top;\r\n\r\n    if (this._moveFocus(getRTL(), (activeRect: ClientRect, targetRect: ClientRect) => {\r\n      let distance = -1;\r\n\r\n      if ((\r\n        targetTop === -1 &&\r\n        targetRect.right <= activeRect.right &&\r\n        (this.props.direction === FocusZoneDirection.horizontal || targetRect.top === activeRect.top)) ||\r\n        (targetRect.top === targetTop)) {\r\n\r\n        targetTop = targetRect.top;\r\n        distance = Math.abs((targetRect.top + (targetRect.height / 2)) - topAlignment);\r\n      }\r\n\r\n      return distance;\r\n    })) {\r\n      this._setFocusAlignment(this._activeElement, true, false);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private _moveFocusRight(): boolean {\r\n    let targetTop = -1;\r\n    const topAlignment = this._focusAlignment.top;\r\n\r\n    if (this._moveFocus(!getRTL(), (activeRect: ClientRect, targetRect: ClientRect) => {\r\n      let distance = -1;\r\n\r\n      if ((\r\n        targetTop === -1 &&\r\n        targetRect.left >= activeRect.left &&\r\n        (this.props.direction === FocusZoneDirection.horizontal || targetRect.top === activeRect.top)) ||\r\n        (targetRect.top === targetTop)) {\r\n\r\n        targetTop = targetRect.top;\r\n        distance = Math.abs((targetRect.top + (targetRect.height / 2)) - topAlignment);\r\n      }\r\n\r\n      return distance;\r\n    })) {\r\n      this._setFocusAlignment(this._activeElement, true, false);\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private _setFocusAlignment(element: HTMLElement, isHorizontal?: boolean, isVertical?: boolean) {\r\n    if (this.props.direction === FocusZoneDirection.bidirectional &&\r\n      (!this._focusAlignment || isHorizontal || isVertical)) {\r\n\r\n      const rect = element.getBoundingClientRect();\r\n      const left = rect.left + (rect.width / 2);\r\n      const top = rect.top + (rect.height / 2);\r\n\r\n      if (!this._focusAlignment) {\r\n        this._focusAlignment = { left, top };\r\n      }\r\n\r\n      if (isHorizontal) {\r\n        this._focusAlignment.left = left;\r\n      }\r\n\r\n      if (isVertical) {\r\n        this._focusAlignment.top = top;\r\n      }\r\n    }\r\n  }\r\n\r\n  private _isImmediateDescendantOfZone(element?: HTMLElement): boolean {\r\n    let parentElement = getParent(element);\r\n\r\n    while (parentElement && parentElement !== this.refs.root && parentElement !== document.body) {\r\n      if (isElementFocusZone(parentElement)) {\r\n        return false;\r\n      }\r\n\r\n      parentElement = getParent(parentElement);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private _updateTabIndexes(element?: HTMLElement) {\r\n    if (!element) {\r\n      element = this.refs.root;\r\n      if (this._activeElement && !elementContains(element, this._activeElement)) {\r\n        this._activeElement = null;\r\n      }\r\n    }\r\n\r\n    const childNodes = element.children;\r\n\r\n    for (let childIndex = 0; childNodes && childIndex < childNodes.length; childIndex++) {\r\n      const child = childNodes[childIndex] as HTMLElement;\r\n\r\n      if (!isElementFocusZone(child)) {\r\n        // If the item is explicitly set to not be focusable then TABINDEX needs to be set to -1.\r\n        if (child.getAttribute && child.getAttribute(IS_FOCUSABLE_ATTRIBUTE) === 'false') {\r\n          child.setAttribute(TABINDEX, '-1');\r\n        }\r\n        if (isElementTabbable(child)) {\r\n          if (this.props.disabled) {\r\n            child.setAttribute(TABINDEX, '-1');\r\n          } else if (!this._isInnerZone && (!this._activeElement || this._activeElement === child)) {\r\n            this._activeElement = child;\r\n            if (child.getAttribute(TABINDEX) !== '0') {\r\n              child.setAttribute(TABINDEX, '0');\r\n            }\r\n          } else if (child.getAttribute(TABINDEX) !== '-1') {\r\n            child.setAttribute(TABINDEX, '-1');\r\n          }\r\n        } else if (child.tagName === 'svg' && child.getAttribute('focusable') !== 'false') {\r\n          // Disgusting IE hack. Sad face.\r\n          child.setAttribute('focusable', 'false');\r\n        }\r\n\r\n        this._updateTabIndexes(child);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  private _isElementInput(element: HTMLElement): boolean {\r\n    if (element && element.tagName && element.tagName.toLowerCase() === 'input') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private _shouldInputLoseFocus(element: HTMLInputElement, isForward?: boolean) {\r\n    if (element &&\r\n      element.type &&\r\n      ALLOWED_INPUT_TYPES.indexOf(element.type.toLowerCase()) > -1) {\r\n      let selectionStart = element.selectionStart;\r\n      let selectionEnd = element.selectionEnd;\r\n      let isRangeSelected = selectionStart !== selectionEnd;\r\n      let inputValue = element.value;\r\n\r\n      // We shouldn't lose focus in the following cases:\r\n      // 1. There is range selected.\r\n      // 2. When selection start is larger than 0 and it is backward.\r\n      // 3. when selection start is not the end of lenght and it is forward.\r\n      if (isRangeSelected ||\r\n        (selectionStart > 0 && !isForward) ||\r\n        (selectionStart !== inputValue.length && isForward)) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n}"],"sourceRoot":"..\\..\\..\\src"}