{"version":3,"sources":["components/Dropdown/Dropdown.tsx"],"names":[],"mappings":"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","file":"components/Dropdown/Dropdown.js","sourcesContent":["import * as React from 'react';\r\nimport { IDropdownProps, IDropdownOption } from './Dropdown.Props';\r\nimport { DirectionalHint } from '../../common/DirectionalHint';\r\nimport { Callout } from '../../Callout';\r\nimport { BaseButton } from '../../Button';\r\nimport { List } from '../../List';\r\nimport { Panel } from '../../Panel';\r\nimport { FocusZone, FocusZoneDirection } from '../../FocusZone';\r\nimport { withResponsiveMode, ResponsiveMode } from '../../utilities/decorators/withResponsiveMode';\r\nimport { IWithResponsiveModeState } from '../../utilities/decorators/withResponsiveMode';\r\nimport {\r\n  BaseComponent,\r\n  KeyCodes,\r\n  autobind,\r\n  css,\r\n  findIndex,\r\n  getId\r\n} from '../../Utilities';\r\nimport './Dropdown.scss';\r\n\r\n// Internal only props iterface to support mixing in responsive mode\r\nexport interface IDropdownInternalProps extends IDropdownProps, IWithResponsiveModeState {\r\n\r\n}\r\n\r\nexport interface IDropdownState {\r\n  isOpen?: boolean;\r\n  selectedIndex?: number;\r\n}\r\n\r\n@withResponsiveMode\r\nexport class Dropdown extends BaseComponent<IDropdownInternalProps, IDropdownState> {\r\n\r\n  public static defaultProps = {\r\n    options: []\r\n  };\r\n\r\n  private static Option: string = 'option';\r\n\r\n  public refs: {\r\n    [key: string]: React.ReactInstance,\r\n    root: HTMLElement,\r\n    focusZone: FocusZone\r\n  };\r\n\r\n  private _focusZone: FocusZone;\r\n  private _dropDown: HTMLDivElement;\r\n  private _dropdownLabel: HTMLElement;\r\n  private _id: string;\r\n\r\n  constructor(props?: IDropdownProps) {\r\n    super(props, {\r\n      'isDisabled': 'disabled'\r\n    });\r\n\r\n    this._id = props.id || getId('Dropdown');\r\n\r\n    let selectedKey = props.defaultSelectedKey !== undefined ? props.defaultSelectedKey : props.selectedKey;\r\n\r\n    this.state = {\r\n      isOpen: false,\r\n      selectedIndex: this._getSelectedIndex(props.options, selectedKey)\r\n    };\r\n  }\r\n\r\n  public componentWillReceiveProps(newProps: IDropdownProps) {\r\n    // In controlled component usage where selectedKey is provided, update the selectedIndex\r\n    // state if the key or options change.\r\n    if (newProps.selectedKey !== undefined &&\r\n      (newProps.selectedKey !== this.props.selectedKey || newProps.options !== this.props.options)) {\r\n      this.setState({\r\n        selectedIndex: this._getSelectedIndex(newProps.options, newProps.selectedKey)\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  // Primary Render\r\n  public render() {\r\n    let id = this._id;\r\n    let { className, label, options, disabled, isDisabled, ariaLabel,\r\n      onRenderTitle = this._onRenderTitle,\r\n      onRenderContainer = this._onRenderContainer\r\n    } = this.props;\r\n    let { isOpen, selectedIndex } = this.state;\r\n    let selectedOption = options[selectedIndex];\r\n\r\n    // Remove this deprecation workaround at 1.0.0\r\n    if (isDisabled !== undefined) {\r\n      disabled = isDisabled;\r\n    }\r\n\r\n    return (\r\n      <div ref='root'>\r\n        { label && (\r\n          <label id={ id + '-label' } className='ms-Label' ref={ (dropdownLabel) => this._dropdownLabel = dropdownLabel } >{ label }</label>\r\n        ) }\r\n        <div\r\n          data-is-focusable={ !disabled }\r\n          ref={ (c): HTMLElement => this._dropDown = c }\r\n          id={ id }\r\n          className={ css('ms-Dropdown', className, {\r\n            'is-open': isOpen, 'is-disabled': disabled\r\n          }) }\r\n          tabIndex={ disabled ? -1 : 0 }\r\n          onKeyDown={ this._onDropdownKeyDown }\r\n          onClick={ this._onDropdownClick }\r\n          aria-expanded={ isOpen ? 'true' : 'false' }\r\n          role='combobox'\r\n          aria-live={ disabled || isOpen ? 'off' : 'assertive' }\r\n          aria-label={ ariaLabel || label }\r\n          aria-describedby={ id + '-option' }\r\n          aria-activedescendant={ selectedIndex >= 0 ? (this._id + '-list' + selectedIndex) : (this._id + '-list') }\r\n        >\r\n          <span\r\n            id={ id + '-option' }\r\n            className='ms-Dropdown-title'\r\n            key={ selectedIndex }\r\n            aria-atomic={ true }\r\n          >\r\n            { selectedOption && (\r\n              onRenderTitle(selectedOption, this._onRenderTitle)\r\n            ) }\r\n          </span>\r\n          <i className='ms-Dropdown-caretDown ms-Icon ms-Icon--ChevronDown'></i>\r\n        </div>\r\n        { isOpen && (\r\n          onRenderContainer(this.props, this._onRenderContainer)\r\n        ) }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  public focus() {\r\n    if (this._dropDown && this._dropDown.tabIndex !== -1) {\r\n      this._dropDown.focus();\r\n    }\r\n  }\r\n\r\n  public setSelectedIndex(index: number) {\r\n    let { onChanged, options } = this.props;\r\n    let { selectedIndex } = this.state;\r\n\r\n    index = Math.max(0, Math.min(options.length - 1, index));\r\n\r\n    if (index !== selectedIndex) {\r\n      // Set the selected option.\r\n      this.setState({\r\n        selectedIndex: index\r\n      });\r\n\r\n      if (onChanged) {\r\n        onChanged(options[index], index);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Render text in dropdown input\r\n  @autobind\r\n  private _onRenderTitle(item: IDropdownOption): JSX.Element {\r\n    return <span>{ item.text }</span>;\r\n  }\r\n\r\n  // Render Callout or Panel container and pass in list\r\n  @autobind\r\n  private _onRenderContainer(props: IDropdownProps): JSX.Element {\r\n    let {\r\n      onRenderList = this._onRenderList,\r\n      responsiveMode\r\n    } = this.props;\r\n\r\n    let isSmall = responsiveMode <= ResponsiveMode.medium;\r\n\r\n    return (\r\n      isSmall ?\r\n        <Panel\r\n          className='ms-Dropdown-panel'\r\n          isOpen={ true }\r\n          isLightDismiss={ true }\r\n          onDismissed={ this._onDismiss }\r\n          hasCloseButton={ false }\r\n        >\r\n          { onRenderList(props, this._onRenderList) }\r\n        </Panel>\r\n        :\r\n        <Callout\r\n          isBeakVisible={ false }\r\n          className='ms-Dropdown-callout'\r\n          gapSpace={ 0 }\r\n          doNotLayer={ false }\r\n          targetElement={ this._dropDown }\r\n          directionalHint={ DirectionalHint.bottomLeftEdge }\r\n          onDismiss={ this._onDismiss }\r\n          onPositioned={ this._onPositioned }\r\n        >\r\n          <div style={ { width: this._dropDown.clientWidth - 2 } }>\r\n            { onRenderList(props, this._onRenderList) }\r\n          </div>\r\n        </Callout>\r\n    );\r\n  }\r\n\r\n  // Render List of items\r\n  @autobind\r\n  private _onRenderList(props: IDropdownProps): JSX.Element {\r\n    let {\r\n      onRenderItem = this._onRenderItem\r\n    } = this.props;\r\n\r\n    let id = this._id;\r\n    let { selectedIndex } = this.state;\r\n\r\n    return (\r\n      <FocusZone\r\n        ref={ this._resolveRef('_focusZone') }\r\n        direction={ FocusZoneDirection.vertical }\r\n        defaultActiveElement={ '#' + id + '-list' + selectedIndex }\r\n      >\r\n        <List\r\n          id={ id + '-list' }\r\n          className='ms-Dropdown-items'\r\n          aria-labelledby={ id + '-label' }\r\n          items={ props.options }\r\n          onRenderCell={\r\n            (item: IDropdownOption, index: number) => {\r\n              item.index = index;\r\n              return onRenderItem(item, this._onRenderItem);\r\n            }\r\n          }\r\n        />\r\n      </FocusZone>\r\n    );\r\n  }\r\n\r\n  // Render Items\r\n  @autobind\r\n  private _onRenderItem(item: IDropdownOption): JSX.Element {\r\n    let { onRenderOption = this._onRenderOption } = this.props;\r\n    let id = this._id;\r\n    return (\r\n      <BaseButton\r\n        id={ id + '-list' + item.index }\r\n        ref={ Dropdown.Option + item.index }\r\n        key={ item.key }\r\n        data-index={ item.index }\r\n        data-is-focusable={ true }\r\n        className={ css('ms-Dropdown-item', { 'is-selected': this.state.selectedIndex === item.index }) }\r\n        onClick={ () => this._onItemClick(item.index) }\r\n        onFocus={ () => this.setSelectedIndex(item.index) }\r\n        role='option'\r\n        aria-selected={ this.state.selectedIndex === item.index ? 'true' : 'false' }\r\n        aria-label={ item.text }\r\n      > { onRenderOption(item, this._onRenderOption) }</BaseButton>\r\n    );\r\n  }\r\n\r\n  // Render content of item (i.e. text/icon inside of button)\r\n  @autobind\r\n  private _onRenderOption(item: IDropdownOption): JSX.Element {\r\n    return <span>{ item.text }</span>;\r\n  }\r\n\r\n  @autobind\r\n  private _onPositioned() {\r\n    this._focusZone.focus();\r\n  }\r\n\r\n  private _onItemClick(index) {\r\n    this.setSelectedIndex(index);\r\n    this.setState({\r\n      isOpen: false\r\n    });\r\n  }\r\n\r\n  @autobind\r\n  private _onDismiss() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  private _getSelectedIndex(options: IDropdownOption[], selectedKey: string | number) {\r\n    return findIndex(options, (option => (option.isSelected || option.selected || (selectedKey != null) && option.key === selectedKey)));\r\n  }\r\n\r\n  @autobind\r\n  private _onDropdownKeyDown(ev: React.KeyboardEvent<HTMLElement>) {\r\n    switch (ev.which) {\r\n      case KeyCodes.enter:\r\n        this.setState({\r\n          isOpen: !this.state.isOpen\r\n        });\r\n        break;\r\n\r\n      case KeyCodes.escape:\r\n        if (!this.state.isOpen) {\r\n          return;\r\n        }\r\n\r\n        this.setState({\r\n          isOpen: false\r\n        });\r\n        break;\r\n\r\n      case KeyCodes.up:\r\n        this.setSelectedIndex(this.state.selectedIndex - 1);\r\n        break;\r\n\r\n      case KeyCodes.down:\r\n        this.setSelectedIndex(this.state.selectedIndex + 1);\r\n        break;\r\n\r\n      case KeyCodes.home:\r\n        this.setSelectedIndex(0);\r\n        break;\r\n\r\n      case KeyCodes.end:\r\n        this.setSelectedIndex(this.props.options.length - 1);\r\n        break;\r\n\r\n      default:\r\n        return;\r\n    }\r\n\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n  }\r\n\r\n  @autobind\r\n  private _onDropdownClick() {\r\n    let { disabled, isDisabled } = this.props;\r\n    let { isOpen } = this.state;\r\n\r\n    // Remove this deprecation workaround at 1.0.0\r\n    if (isDisabled !== undefined) {\r\n      disabled = isDisabled;\r\n    }\r\n\r\n    if (!disabled) {\r\n      this.setState({\r\n        isOpen: !isOpen\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}